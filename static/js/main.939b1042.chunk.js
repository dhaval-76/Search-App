(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{26:function(e,t,a){},31:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),s=a.n(c),o=(a(26),a(3)),i=(a(31),a(11)),d=a.n(i),l=a(20),u=a(7),h=a(21),j=a.n(h),b=Object(u.b)({name:"search",initialState:{isLoading:!0,data:[],query:"web developer",page:1,totalPages:0},reducers:{setLoading:function(e){e.isLoading=!0},setStories:function(e,t){var a=t.payload;e.isLoading=!1,e.data=a.data,e.totalPages=a.totalPages},removeStory:function(e,t){var a=t.payload;e.data=e.data.filter((function(e){return e.objectId!==a}))},handleSearch:function(e,t){var a=t.payload;e.query=a,e.page=1},handlePage:function(e,t){var a=t.payload;if("inc"===a){var n=e.page+1;n>e.totalPages&&(n=1),e.page=n}else if("dec"===a){var r=e.page-1;r<1&&(r=e.totalPages),e.page=r}}}}),p=b.actions,g=p.setLoading,v=p.setStories,f=p.removeStory,m=p.handleSearch,O=p.handlePage,x=function(e){return e.search},y=b.reducer,_=a(1);var N=function(){var e=Object(o.b)(),t=Object(o.c)(x);return Object(n.useEffect)((function(){var a,n;e((a=t.query,n=t.page,function(){var e=Object(l.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g),e.prev=1,e.next=4,j.a.get("https://hn.algolia.com/api/v1/search?query=".concat(a,"&page=").concat(n-1));case 4:r=e.sent,t(v({data:r.data.hits,totalPages:r.data.nbPages})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[t.query,t.page,e]),Object(_.jsxs)("div",{className:"header",children:[Object(_.jsxs)("form",{className:"header__search",children:[Object(_.jsx)("h2",{children:"Search Hacker News"}),Object(_.jsx)("input",{type:"text",className:"header_searchInput",value:t.query,onChange:function(t){return e(m(t.target.value))}})]}),Object(_.jsxs)("div",{className:"header__btns",children:[Object(_.jsx)("button",{disabled:t.isLoading,onClick:function(){return e(O("dec"))},children:"Prev"}),Object(_.jsxs)("p",{children:[t.page," of ",t.totalPages]}),Object(_.jsx)("button",{disabled:t.isLoading,onClick:function(){return e(O("inc"))},children:"Next"})]})]})};a(52);var k=function(){var e=Object(o.b)(),t=Object(o.c)(x);return t.isLoading?Object(_.jsx)("div",{className:"loading"}):Object(_.jsx)("div",{className:"stories",children:t.data.map((function(t){var a=t.objectID,n=t.title,r=t.num_comments,c=t.url,s=t.points,o=t.author;return Object(_.jsxs)("div",{className:"story",children:[Object(_.jsx)("h4",{className:"story__title",children:n}),Object(_.jsxs)("p",{className:"story__info",children:[s," points by ",Object(_.jsxs)("span",{children:[o," | "]})," ",r," comments"]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("a",{href:c,className:"story__readLink",target:"_blank",rel:"noopener noreferrer",children:"read more"}),Object(_.jsx)("button",{className:"story__removeBtn",onClick:function(){return e(f(a))},children:"remove"})]})]},a)}))})};var w=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N,{}),Object(_.jsx)(k,{})]})},P=Object(u.a)({reducer:{search:y}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(o.a,{store:P,children:Object(_.jsx)(w,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.939b1042.chunk.js.map